language: python
python:
- '3.4'
before_install:
  - chmod +x tools/build.sh
before_script:
- sudo apt-get install realpath
- mkdir -p tools
- wget http://gruppe-adler.de/api/travis/sqf_validator.py
- sed -i -e 's/addons//g' sqf_validator.py
- mv sqf_validator.py tools/
script:
- python3 tools/sqf_validator.py
- tools/build.sh
notifications:
  slack: gruppe-adler:WUbRswFJEqy55XKuLhtXTlOf
  template:
  - "%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message}"
  - 'Commit Title : %{commit_subject}'
  - 'Commit details : %{commit_message}'
deploy:
  provider: releases
  api_key:
    secure: FYwLs2T+DKKIZ10lVl+htH0X7rkn2Wj9k+FWm08HZpDfJQ8dEN0kCGmEEYSQwel3zdtn//6N1vMxTbpQXjP+yzvG9ezyl5ZoF9tJbOt19dM8Ck/huyy6mKaHJaJRE0OMz5wXjnAvhEOagqa83WZNe+ZdH3Jjh3xxBYGaoVxCKzqaKIfILwpe12Nsh4d+nvVD4VuZLT8/kgsMgMwKNgqna1XQZPtkWa8Cb54ZvWluxclMloynGRn1h6hRiAQpzDnH/BWUIYco5Gt8Jm5p8RPSgBrou5UKNNTH5bODKoF9WkOdwRQCD2WgTjNPczscAzn/b/gDu7XgstpSZd2An8o7BipfFfG+mbKFIStPuDmIGd0Fkuj6+RUgcNE/vEe4/d7uq/DU2fZpAOThRh68s4yCV1qWNnRUt68/ijlneDUdJVONPBNoL12l81bBBT0jPxTfKkANpD34DrggCfb6rsb5TcO3/w2okQoyVD694bazEeOfYXhoJ3B8ylHSkfnHHpJmBLeep2p/6SrTt2xx+zVgLg2JQurR0sLcQ0oXADQzGK26rvDfExx8HxxoavTe1RW/pufcqQSGLdbAFLmgk0hPOTQNCffIOM+HdTHTD1atdPcRxfUozGmweko/JZnAbAAsHvRgUk4usMC1x4laPRi5ZmUTW78JrXZRa/24K8JA1bc=
  file: release/@gruppe_adler_mod.tar.gz
  skip_cleanup: true
  on:
    tags: true
